spring.application.name=auth-service
server.port=8081

# Database Configuration
spring.datasource.url=jdbc:postgresql://localhost:5433/togglecover_auth
spring.datasource.username=togglecover_user
spring.datasource.password=togglecover_pass
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA Configuration
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# Eureka Configuration
eureka.client.service-url.defaultZone=http://localhost:8761/eureka

# Swagger
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html

# JWT Configuration
jwt.secret=${JWT_SECRET:mySuperSecretKeyForToggleCoverApplicationThatIsAtLeast256BitsLong}
jwt.expiration=3600000
jwt.refresh.expiration=2592000000

# OTP Configuration
otp.expiration.minutes=5
otp.length=6
otp.max.retries=3
otp.resend.cooldown=60
otp.delivery.method=sms

# Security Configuration
security.max-active-sessions=5
security.max-failed-attempts=5
security.account.lockout.minutes=30

# Redis Configuration
spring.redis.host=${REDIS_HOST:localhost}
spring.redis.port=${REDIS_PORT:6379}
spring.redis.password=${REDIS_PASSWORD:}
spring.redis.timeout=2000ms
spring.redis.lettuce.pool.max-active=8
spring.redis.lettuce.pool.max-idle=8
spring.redis.lettuce.pool.min-idle=0
spring.redis.lettuce.pool.max-wait=-1ms

# Redis TTL for OTP rate limiting
redis.otp.ttl.minutes=5
redis.session.ttl.hours=24
redis.blacklist.ttl.hours=24

# Enable/disable Redis
spring.redis.enabled=${REDIS_ENABLED:true}
spring.redis.demo.mode=${REDIS_DEMO_MODE:true}

# MSG91 Configuration
msg91.auth.key=${MSG91_AUTH_KEY:test_key_12345}
msg91.sender.id=TGCOVR
msg91.route=4
msg91.country=91
msg91.base.url=https://api.msg91.com/api

# Fallback to demo mode if no key provided
msg91.enabled=${MSG91_ENABLED:true}
msg91.demo.mode=${MSG91_DEMO_MODE:true}

# Twilio Configuration (WhatsApp)
twilio.account.sid=${TWILIO_ACCOUNT_SID:test_sid_12345}
twilio.auth.token=${TWILIO_AUTH_TOKEN:test_token_12345}
twilio.whatsapp.from=${TWILIO_WHATSAPP_NUMBER:+14155238886}  # Twilio sandbox number

# Enable/disable WhatsApp
twilio.enabled=${TWILIO_ENABLED:true}
twilio.demo.mode=${TWILIO_DEMO_MODE:true}

# Risk Engine Configuration
risk.engine.enabled=true
risk.engine.threshold.high=50
risk.engine.threshold.medium=30

# Cache Configuration
spring.cache.type=redis
spring.cache.redis.time-to-live=600000
spring.cache.redis.cache-null-values=false
spring.cache.redis.key-prefix=togglecover: